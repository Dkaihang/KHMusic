webpackJsonp([2],{"1N7W":function(t,e){},ARSI:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=117)}({0:function(t,e,i){"use strict";function n(t,e,i,n,a,s,r,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):a&&(c=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}i.d(e,"a",function(){return n})},117:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.carouselClasses,on:{mouseenter:function(e){return e.stopPropagation(),t.handleMouseEnter(e)},mouseleave:function(e){return e.stopPropagation(),t.handleMouseLeave(e)}}},[i("div",{staticClass:"el-carousel__container",style:{height:t.height}},[t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-left"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex>0),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("left")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex-1)}}},[i("i",{staticClass:"el-icon-arrow-left"})])]):t._e(),t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-right"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex<t.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("right")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex+1)}}},[i("i",{staticClass:"el-icon-arrow-right"})])]):t._e(),t._t("default")],2),"none"!==t.indicatorPosition?i("ul",{class:t.indicatorsClasses},t._l(t.items,function(e,n){return i("li",{key:n,class:["el-carousel__indicator","el-carousel__indicator--"+t.direction,{"is-active":n===t.activeIndex}],on:{mouseenter:function(e){t.throttledIndicatorHover(n)},click:function(e){e.stopPropagation(),t.handleIndicatorClick(n)}}},[i("button",{staticClass:"el-carousel__button"},[t.hasLabel?i("span",[t._v(t._s(e.label))]):t._e()])])}),0):t._e()])};n._withStripped=!0;var a=i(25),s=i.n(a),r=i(16),o={name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some(function(t){return t.label.toString().length>0})},carouselClasses:function(){var t=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&t.push("el-carousel--card"),t},indicatorsClasses:function(){var t=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&t.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||t.push("el-carousel__indicators--outside"),t}},watch:{items:function(t){t.length>0&&this.setActiveItem(this.initialIndex)},activeIndex:function(t,e){this.resetItemPosition(e),e>-1&&this.$emit("change",t,e)},autoplay:function(t){t?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)},interval:function(){this.pauseTimer(),this.startTimer()}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(t,e){var i=this.items.length;return e===i-1&&t.inStage&&this.items[0].active||t.inStage&&this.items[e+1]&&this.items[e+1].active?"left":!!(0===e&&t.inStage&&this.items[i-1].active||t.inStage&&this.items[e-1]&&this.items[e-1].active)&&"right"},handleButtonEnter:function(t){var e=this;"vertical"!==this.direction&&this.items.forEach(function(i,n){t===e.itemInStage(i,n)&&(i.hover=!0)})},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach(function(t){t.hover=!1})},updateItems:function(){this.items=this.$children.filter(function(t){return"ElCarouselItem"===t.$options.name})},resetItemPosition:function(t){var e=this;this.items.forEach(function(i,n){i.translateItem(n,e.activeIndex,t)})},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},resetTimer:function(){this.pauseTimer(),this.startTimer()},setActiveItem:function(t){if("string"==typeof t){var e=this.items.filter(function(e){return e.name===t});e.length>0&&(t=this.items.indexOf(e[0]))}if(t=Number(t),isNaN(t)||t!==Math.floor(t))console.warn("[Element Warn][Carousel]index must be an integer.");else{var i=this.items.length,n=this.activeIndex;this.activeIndex=t<0?this.loop?i-1:0:t>=i?this.loop?0:i-1:t,n===this.activeIndex&&this.resetItemPosition(n),this.resetTimer()}},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(t){this.activeIndex=t},handleIndicatorHover:function(t){"hover"===this.trigger&&t!==this.activeIndex&&(this.activeIndex=t)}},created:function(){var t=this;this.throttledArrowClick=s()(300,!0,function(e){t.setActiveItem(e)}),this.throttledIndicatorHover=s()(300,function(e){t.handleIndicatorHover(e)})},mounted:function(){var t=this;this.updateItems(),this.$nextTick(function(){Object(r.addResizeListener)(t.$el,t.resetItemPosition),t.initialIndex<t.items.length&&t.initialIndex>=0&&(t.activeIndex=t.initialIndex),t.startTimer()})},beforeDestroy:function(){this.$el&&Object(r.removeResizeListener)(this.$el,this.resetItemPosition),this.pauseTimer()}},c=i(0),l=Object(c.a)(o,n,[],!1,null,null,null);l.options.__file="packages/carousel/src/main.vue";var u=l.exports;u.install=function(t){t.component(u.name,u)};e.default=u},16:function(t,e){t.exports=i("02w1")},25:function(t,e){t.exports=i("uY1a")}})},HXef:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("woOf"),a=i.n(n),s=(i("hXTu"),i("+BTi"),i("y7os")),r=i.n(s),o=(i("vBcO"),i("ARSI")),c=i.n(o),l=i("gyMJ"),u=i("msXN"),d=i("s8AD"),h=i("aJfl"),f={name:"MusicIndex",mixins:[u.a],data:function(){return{swiperHeight:340,swiperWidth:750,swiperList:[],pageUrl:{bang:"/rankList",playlists:"/playlists",singers:"/singers"},playlistTags:[],singerTags:[],bangList:[],playlistData:{},artistData:{},isActive:0,singerIsActive:0}},components:{"el-carousel":c.a,"el-carousel-item":r.a,SingerList:d.a,Playlist:h.a},methods:{getRcmPlaylist:function(){var t=this;l.a.getIndexRcmPlaylist().then(function(e){t.playlistData=a()({},t.playlistData,{code:parseInt(e.code),total:0,playlist:e.data.list.slice(0,5),pageSize:5,getData:null})}).catch(function(t){console.log(t)})},getTags:function(){var t=this;l.a.getIndexTagPlaylist().then(function(e){t.playlistTags=e.data,t.playlistTags.unshift({name:"每日推荐",id:"rcm"})}).catch(function(t){console.log(t)}),l.a.getIndexTagSinger().then(function(e){t.singerTags=e.data}).catch(function(t){console.log(t)})},getHomeData:function(){var t=this;this.getSwiperList(),this.getTags(),this.getRcmPlaylist(),this.getSingerList(11),l.a.getIndexBangList().then(function(e){t.bangList=e.data}).catch(function(t){console.log(t)}),console.log(document.cookie.split("kw_token=")[1])},getPlaylist:function(t){var e=this;"rcm"==t?this.getRcmPlaylist():l.a.getPlaylist({id:t,pn:1,rn:5}).then(function(t){e.playlistData=a()({},e.playlistData,{code:parseInt(t.code),total:0,playlist:t.data.data,pageSize:5,getData:null})}).catch(function(t){console.log(t)})},getSingerList:function(t){var e=this;l.a.getSingerList({category:t,pn:1,rn:6}).then(function(t){e.artistData=a()({},e.artistData,{code:parseInt(t.code),total:0,artistList:t.data.artistList,pageSize:6,getData:null})}).catch(function(t){console.log(t)})},getSwiperList:function(){var t=this;l.a.getSwiperList().then(function(e){t.swiperList=e.data,t.swiperList.shift()}).catch(function(t){console.log(t)})},getSwiperWidth:function(){window.innerWidth>=990&&window.innerWidth<=1520&&(this.swiperWidth=window.innerWidth-240)},setSwiperHeight:function(){this.getSwiperWidth(),this.swiperHeight=340/1400*this.swiperWidth},throttle:function(t,e){var i=0;return function(){var n=Date.now(),a=arguments;n-i>e&&(t.apply(this,a),i=n)}}},computed:{},created:function(){this.setSwiperHeight(),this.getHomeData()},mounted:function(){window.onresize=this.throttle(this.setSwiperHeight,100)},beforeDestroy:function(){window.onresize=null}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("el-carousel",{staticClass:"swiper-container",attrs:{interval:4e3,height:t.swiperHeight+"px"}},t._l(t.swiperList,function(t,e){return i("el-carousel-item",{key:e},[i("a",{attrs:{href:t.url}},[i("img",{attrs:{src:t.pic}})])])}),1),t._v(" "),i("div",{staticClass:"index_ranklist"},[i("div",{staticClass:"rec_nav"},[i("h3",{staticClass:"title"},[t._v("排行榜")]),t._v(" "),i("router-link",{staticClass:"more",attrs:{to:"/rankList"}},[i("span",[t._v("更多")]),t._v(" "),i("i",{staticClass:"iconfont icon-icon_pagedown_"})])],1),t._v(" "),i("div",{staticClass:"rec_list"},[t._l(t.bangList,function(e,n){return[i("div",{key:n,staticClass:"bang"},[i("div",{staticClass:"bang_top"},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),i("ul",{staticClass:"list_con"},[t._l(e.musicList.slice(0,5),function(e,n){return[i("li",{key:n},[n<=2?i("div",{staticClass:"top_img ",class:"top"+(n+1)}):i("div",{staticClass:"index"},[t._v(t._s(n+1))]),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"song_name",attrs:{title:e.name},on:{click:function(i){return t.goPage("music",e.rid)}}},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"artist",attrs:{title:e.artist},on:{click:function(i){return t.goPage("singer",e.artistid)}}},[t._v(t._s(e.artist))])])])]})],2)])]})],2)]),t._v(" "),i("div",{staticClass:"index_playlist"},[i("div",{staticClass:"rec_nav"},[i("h3",{staticClass:"title"},[t._v("推荐歌单")]),t._v(" "),t._l(t.playlistTags,function(e,n){return[i("a",{key:n,class:{active:t.isActive===n},attrs:{href:"javascript:;"},on:{click:function(i){t.isActive=n,t.getPlaylist(e.id)}}},[t._v(t._s(e.name))])]}),t._v(" "),i("router-link",{staticClass:"more",attrs:{to:"/playlists"}},[i("span",[t._v("更多")]),t._v(" "),i("i",{staticClass:"iconfont icon-icon_pagedown_"})])],2),t._v(" "),i("playlist",{attrs:{playlistData:t.playlistData}})],1),t._v(" "),i("div",{staticClass:"index_singer"},[i("div",{staticClass:"rec_nav"},[i("h3",{staticClass:"title"},[t._v("推荐歌手")]),t._v(" "),t._l(t.singerTags,function(e,n){return[i("a",{key:n,class:{active:t.singerIsActive===n},attrs:{href:"javascript:;"},on:{click:function(i){t.singerIsActive=n,t.getSingerList(e.id)}}},[t._v(t._s(e.name))])]}),t._v(" "),i("router-link",{staticClass:"more",attrs:{to:"/singers"}},[i("span",[t._v("更多")]),t._v(" "),i("i",{staticClass:"iconfont icon-icon_pagedown_"})])],2),t._v(" "),i("singer-list",{attrs:{artistData:t.artistData}})],1)],1)},staticRenderFns:[]};var v=i("VU/8")(f,p,!1,function(t){i("k1+e"),i("1N7W")},"data-v-46d3f3fc",null);e.default=v.exports},hXTu:function(t,e){},"k1+e":function(t,e){},vBcO:function(t,e){},y7os:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=119)}({0:function(t,e,i){"use strict";function n(t,e,i,n,a,s,r,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):a&&(c=o?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}i.d(e,"a",function(){return n})},119:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":t.active,"el-carousel__item--card":"card"===t.$parent.type,"is-in-stage":t.inStage,"is-hover":t.hover,"is-animating":t.animating},style:t.itemStyle,on:{click:t.handleItemClick}},["card"===t.$parent.type?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!active"}],staticClass:"el-carousel__mask"}):t._e(),t._t("default")],2)};n._withStripped=!0;var a=i(3),s={name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(t,e,i){return 0===e&&t===i-1?-1:e===i-1&&0===t?i:t<e-1&&e-t>=i/2?i+1:t>e+1&&t-e>=i/2?-2:t},calcCardTranslate:function(t,e){var i=this.$parent.$el.offsetWidth;return this.inStage?i*(1.17*(t-e)+1)/4:t<e?-1.83*i/4:3.83*i/4},calcTranslate:function(t,e,i){return this.$parent.$el[i?"offsetHeight":"offsetWidth"]*(t-e)},translateItem:function(t,e,i){var n=this.$parent.type,a=this.parentDirection,s=this.$parent.items.length;if("card"!==n&&void 0!==i&&(this.animating=t===e||t===i),t!==e&&s>2&&this.$parent.loop&&(t=this.processIndex(t,e,s)),"card"===n)"vertical"===a&&console.warn("[Element Warn][Carousel]vertical direction is not supported in card mode"),this.inStage=Math.round(Math.abs(t-e))<=1,this.active=t===e,this.translate=this.calcCardTranslate(t,e),this.scale=this.active?1:.83;else{this.active=t===e;var r="vertical"===a;this.translate=this.calcTranslate(t,e,r),this.scale=1}this.ready=!0},handleItemClick:function(){var t=this.$parent;if(t&&"card"===t.type){var e=t.items.indexOf(this);t.setActiveItem(e)}}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){var t={transform:("vertical"===this.parentDirection?"translateY":"translateX")+"("+this.translate+"px) scale("+this.scale+")"};return Object(a.autoprefixer)(t)}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},r=i(0),o=Object(r.a)(s,n,[],!1,null,null,null);o.options.__file="packages/carousel/src/item.vue";var c=o.exports;c.install=function(t){t.component(c.name,c)};e.default=c},3:function(t,e){t.exports=i("ylDJ")}})}});
//# sourceMappingURL=2.83747e81320f14ba80eb.js.map