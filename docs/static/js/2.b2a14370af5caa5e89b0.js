webpackJsonp([2],{"5wNO":function(t,e){},KdGk:function(t,e){},MzOi:function(t,e){},"dLd/":function(t,e,s){t.exports=s.p+"static/img/logo.9a43e22.png"},eYrN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"text"},[s("div",t._l(t.footerList,function(e,i){return s("p",{key:i},[t._v("\n        "+t._s(e)+"\n      ")])}),0)])])},staticRenderFns:[]};var o=s("VU/8")({name:"MusicFooter",data:function(){return{footerList:["关于 | 帮助 | 条款 | 反馈","Copyright © 2021 DKH"]}},components:{},methods:{},computed:{}},i,!1,function(t){s("nt5x")},"data-v-c75d42f4",null).exports,a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"head"},[i("div",{staticClass:"flex_c"},[i("router-link",{attrs:{to:"/"}},[i("img",{staticClass:"logo",attrs:{src:s("dLd/")}})]),t._v(" "),i("ul",{staticClass:"nav"},t._l(t.nav,function(e){return i("li",{key:e.id,staticClass:"item",class:{active:t.isActive===e.id},on:{click:function(s){return t.select_nav(e.id)}}},[i("router-link",{attrs:{to:e.link}},[t._v(t._s(e.name))])],1)}),0)],1),t._v(" "),i("div",{staticClass:"nav_r flex_c"},[i("div",{staticClass:"search_out",class:{search_focus:!0===t.isShow}},[i("div",{staticClass:"search_inn flex_c"},[i("i",{staticClass:"icon iconfont icon-header_icon_search_",on:{click:function(e){return t.goSearch()}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"search",attrs:{maxlength:"128",type:"text",placeholder:"搜索音乐/MV/歌单/歌手"},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goSearch()},blur:function(e){t.isShow=!1},focus:function(e){t.isShow=!0},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isShow,expression:"isShow===true"}],staticClass:"list",class:{hot_key:!0===t.isShow}},[i("p",{directives:[{name:"show",rawName:"v-show",value:""===t.searchValue,expression:"searchValue===''"}],staticClass:"tit"},[t._v("大家都在搜")]),t._v(" "),i("ul",{ref:"searchList"},[!0===t.isShow?t._l(t.searchList,function(e,s){return i("li",{key:s,staticClass:"list_item reg_text"},[i("span",{directives:[{name:"show",rawName:"v-show",value:""===t.searchValue,expression:"searchValue===''"}],staticClass:"idx"},[t._v(t._s(s+1))]),t._v(" "),i("span",{staticClass:"key_text"},[t._v(t._s(e))])])}):t._e()],2)])]),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reg_text"},[e("span",[this._v("登录")]),this._v(" "),e("span",[this._v("/")]),this._v(" "),e("span",[this._v("注册")])])}]};var n={name:"Main",data:function(){return{}},components:{MusicHeader:s("VU/8")({name:"MusicNav",data:function(){return{searchValue:"",nav:[{id:0,name:"首页",link:"/"},{id:1,name:"排行榜",link:"/rankList"},{id:2,name:"歌单",link:"/playlists"},{id:3,name:"歌手",link:"/singers"},{id:4,name:"我的音乐",link:"/play"}],searchList:["金玉良缘","test1","test2"],isActive:0,isShow:!1}},methods:{select_nav:function(t){this.isActive=t},goSearch:function(){this.$store.commit("setSearchword",this.searchValue),this.$router.push({path:"/search/song",query:{key:this.searchValue}})}},watch:{"$route.query.key":{handler:function(t,e){this.searchValue=t},immediate:!0}}},a,!1,function(t){s("MzOi")},"data-v-3cc6c9d9",null).exports,MusicFooter:o,MusicPlay:s("j8mR").a},methods:{},computed:{},created:function(){},mounted:function(){}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("keep-alive",[e("music-header")],1),this._v(" "),e("keep-alive",[e("router-view",{key:this.$route.fullPath,staticClass:"container"})],1),this._v(" "),e("music-footer"),this._v(" "),"mvPlay"!=this.$route.name?e("music-play"):this._e()],1)},staticRenderFns:[]};var r=s("VU/8")(n,l,!1,function(t){s("5wNO")},"data-v-59feae36",null);e.default=r.exports},fRlY:function(t,e){},j8mR:function(t,e,s){"use strict";var i=s("Dd8w"),o=s.n(i),a=s("NYxO"),n=s("gyMJ"),l=s("msXN"),r=s("VuIw"),c={components:{MusicTable:s("MwAD").a},name:"MusicPlay",mixins:[l.a],data:function(){return{playTime:"00:00",isShow:!1,playMode:0,isVolume:!0,defaultImg:s("k6x5"),tempVolume:0,realVolume:50,playList:[],index:0}},created:function(){},methods:{setPlayOrPause:function(){this.$store.commit("setIsPlay",!this.isPlay)},audioEnd:function(){switch(this.index=r.a.getLocalStorage("play_song_index"),this.playMode){case 0:this.index+=1,this.index>=this.playList.length&&(this.index=0),this.getSongInfo(this.index);break;case 1:this.getSongInfo(this.index);break;case 2:this.index+=1,this.index>=this.playList.length&&(this.index=this.playList.length-1,this.$store.commit("setIsPlay",!1));break;case 3:this.index=Math.floor(Math.random()*this.playList.length),this.getSongInfo(this.index)}r.a.setLocalStorage("play_song_index",this.index)},download:function(){window.location.href=this.songUrl},setVolume:function(){var t=this.$refs.audio;this.isVolume=!this.isVolume,this.isVolume?(this.realVolume=this.tempVolume,r.a.setLocalStorage("volume",this.tempVolume)):(this.tempVolume=r.a.getLocalStorage("volume"),this.realVolume=0,r.a.setLocalStorage("volume",0)),t.volume=.01*this.realVolume},floatToTime:function(t){var e=t/60|0,s=t%60|0,i=void 0;return i=e<10?"0"+e+":":e+":",i+=s<10?"0"+s:s},timeUpdate:function(){var t=this.$refs.audio;this.playTime=this.floatToTime(t.currentTime),t.volume=.01*this.realVolume,this.$refs.progress.style="width:"+t.currentTime/(t.duration/340)+"px",this.$store.commit("setCurTime",t.currentTime),t.currentTime<=1&&this.$store.commit("setIsLrc",0)},progressMove:function(t,e){var s=document.documentElement.scrollLeft||document.body.scrollLeft,i=this.$refs.audio;if("volume"===e){var o=t.clientX+s-this.$refs.volume.getBoundingClientRect().left;i.volume=.01*o,this.realVolume=0|o,r.a.setLocalStorage("volume",this.realVolume),this.$refs.volume.style="width:"+o+"px"}if("progress"===e){var a=t.clientX+s-this.$refs.progress.getBoundingClientRect().left;i.currentTime=a*(i.duration/340)}},progressBtnMove:function(t){var e=this,s=document.documentElement.scrollLeft||document.body.scrollLeft,i=this.$refs.audio;document.onmousemove=function(o){if("volume"===t){var a=o.clientX+s-e.$refs.volume.getBoundingClientRect().left;a>100?a=100:a<0&&(a=0),i.volume=.01*a,e.realVolume=0|a,r.a.setLocalStorage("volume",e.realVolume),e.$refs.volume.style="width:"+a+"px"}if("progress"===t){var n=o.clientX+s-e.$refs.progress.getBoundingClientRect().left;n>340?n=340:n<0&&(n=0),i.currentTime=n*(i.duration/340)}},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}},getSongInfo:function(t){var e=this;this.$store.commit("setIsPlay",!1),this.$store.commit("setSongInfo",r.a.getLocalStorage("song_list")[t]),this.$store.commit("setPlaySong",this.playList[t].rid),n.a.getPlayUrl({mid:r.a.getLocalStorage("song_list")[t].rid,type:"music"}).then(function(t){e.$store.commit("setSongUrl",t.data.url),e.$store.commit("setIsPlay",!0)}).catch(function(){})},getPreSong:function(){this.index=r.a.getLocalStorage("play_song_index")||0,3===this.playMode?this.index=Math.floor(Math.random()*this.playList.length):(this.index-=1,this.index<0&&(this.index=this.playList.length-1)),r.a.setLocalStorage("play_song_index",this.index),this.getSongInfo(this.index)},getNextSong:function(){this.index=r.a.getLocalStorage("play_song_index")||0,3===this.playMode?this.index=Math.floor(Math.random()*this.playList.length):(this.index+=1,this.index>=this.playList.length&&(this.index=0)),r.a.setLocalStorage("play_song_index",this.index),this.getSongInfo(this.index)}},computed:o()({},Object(a.b)(["songInfo","songUrl","isPlay"])),watch:{isPlay:{handler:function(t,e){var s=this.$refs.audio;!0===t?setTimeout(function(){s.play()},200):s.pause(),this.playList=r.a.getLocalStorage("song_list")}}},mounted:function(){var t=this,e=this;window.onscroll=function(){var t=-(document.documentElement.scrollLeft||document.body.scrollLeft);e.$refs.play.style.left=t+"px"},window.onclick=function(e){t.$refs.playList.contains(e.target)||t.$refs.playListBtn.contains(e.target)||(t.isShow=!1)},this.$store.commit("setIsPlay",!1),null===r.a.getLocalStorage("volume")&&r.a.setLocalStorage("volume",50),this.$refs.audio.volume=.01*r.a.getLocalStorage("volume"),this.realVolume=r.a.getLocalStorage("volume"),null!=r.a.getLocalStorage("play_song_index")?this.index=r.a.getLocalStorage("play_song_index"):r.a.setLocalStorage("play_song_index",0),null!=r.a.getLocalStorage("song_list")&&(this.playList=r.a.getLocalStorage("song_list"),this.$store.commit("setSongInfo",this.playList[this.index]),this.$store.commit("setPlaySong",this.playList[this.index].rid),n.a.getPlayUrl({mid:this.playList[this.index].rid,type:"music"}).then(function(t){e.$store.commit("setSongUrl",t.data.url)}).catch(function(){}))},beforeDestroy:function(){window.onscroll=null,window.onclick=null}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"play"}},[s("div",{ref:"play",staticClass:"play_bar"},[s("div",{staticClass:"col_l flex_c",class:{no_list:0===t.playList.length}},[0===t.playList.length?s("div",{staticStyle:{width:"100%",height:"100%",position:"absolute","z-index":"10"}}):t._e(),t._v(" "),s("i",{staticClass:"iconfont icon-bar_icon_pre_",attrs:{title:"上一首"},on:{click:function(e){return t.getPreSong()}}}),t._v(" "),s("i",{staticClass:"iconfont",class:t.isPlay?"icon-bar_icon_pause_":"icon-bar_icon_play_1",attrs:{id:"play",title:t.isPlay?"暂停":"播放"},on:{click:function(e){return t.setPlayOrPause()}}}),t._v(" "),s("i",{staticClass:"iconfont icon-bar_icon_next_",attrs:{title:"下一首"},on:{click:function(e){return t.getNextSong()}}})]),t._v(" "),s("div",{staticClass:"col_c flex_c"},[0===t.playList.length?s("div",{staticStyle:{width:"100%",height:"100%",position:"absolute","z-index":"10"}}):t._e(),t._v(" "),s("div",{staticClass:"cover_out"},[s("img",{staticClass:"pic",attrs:{src:t.songInfo.pic||t.defaultImg},on:{click:function(e){return t.goPlayPage(t.songInfo.rid)}}})]),t._v(" "),s("div",[s("div",{staticClass:"songInfo flex_c"},[s("div",{staticClass:"info flex_c"},[s("span",{staticClass:"song_name",on:{click:function(e){return t.goPage("music",t.songInfo.rid)}}},[t._v(t._s(t.songInfo.name||"Music"))]),t._v(" "),s("span",{staticClass:"artist"},[t._v(" - "+t._s(t.songInfo.artist))])]),t._v(" "),s("span",{staticClass:"time"},[t._v(t._s(t.playTime)+"/"+t._s(t.songInfo.songTimeMinutes||"00:00"))])]),t._v(" "),s("div",{staticClass:"process"},[s("div",{staticClass:"progress_bar",on:{mousedown:function(e){return t.progressMove(e,"progress")}}},[s("div",{ref:"progress",staticClass:"progress"},[s("div",{staticClass:"progress_btn",on:{mousedown:function(e){return t.progressBtnMove("progress")}}})])])])])]),t._v(" "),s("div",{staticClass:"col_r flex_c"},[s("i",{staticClass:"prev icon_heart iconfont icon-bar_icon_heart_",attrs:{title:"收藏歌曲"}}),t._v(" "),s("i",{staticClass:"prev iconfont icon-bar_icon_download_",attrs:{title:"下载歌曲"},on:{click:function(e){return t.download()}}}),t._v(" "),s("span",{on:{click:function(e){t.playMode++,t.playMode>3&&(t.playMode=0)}}},[s("i",{directives:[{name:"show",rawName:"v-show",value:0===t.playMode,expression:"playMode===0"}],staticClass:"prev iconfont icon-bar_icon_loop_",attrs:{title:"循环播放"}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:1===t.playMode,expression:"playMode===1"}],staticClass:"prev iconfont icon-bar_icon_repeat_",attrs:{title:"单曲循环"}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:2===t.playMode,expression:"playMode===2"}],staticClass:"prev iconfont icon-bar_icon_list_",attrs:{title:"顺序播放"}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:3===t.playMode,expression:"playMode===3"}],staticClass:"prev iconfont icon-bar_icon_random_",attrs:{title:"随机播放"}})]),t._v(" "),s("span",{ref:"playListBtn",staticClass:"playList",on:{click:function(e){t.isShow=!t.isShow}}},[0!=t.playList.length?s("span",{staticClass:"play_count"},[t._v(t._s(t.playList.length))]):t._e(),t._v(" "),s("i",{staticClass:"prev iconfont icon-bar_icon_playlistfuzhi",attrs:{title:"歌曲列表"}})]),t._v(" "),s("span",{on:{click:function(e){return t.setVolume()}}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!t.isVolume,expression:"!isVolume"}],staticClass:"iconfont icon-bar_icon_mute",attrs:{title:"静音"}}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isVolume,expression:"isVolume"}],staticClass:"iconfont icon-bar_icon_volume_",attrs:{title:"音量"}})]),t._v(" "),s("div",{staticClass:"volume"},[s("div",{staticClass:"progress_bar",on:{mousedown:function(e){t.progressMove(e,"volume")}}},[s("div",{ref:"volume",staticClass:"progress",style:"width:"+t.realVolume+"px"},[s("div",{staticClass:"progress_btn",attrs:{title:t.realVolume},on:{mousedown:function(e){return t.progressBtnMove("volume")}}})])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],ref:"playList",staticClass:"play_list"},[s("div",{staticClass:"top flex_c"},[s("span",[t._v("播放列表")]),t._v(" "),s("div",{staticClass:"flex_c"},[t._m(0),t._v(" "),s("i",{staticClass:"close iconfont icon-list_icon_x",on:{click:function(e){t.isShow=!1}}})])]),t._v(" "),s("music-table",{staticClass:"list",attrs:{songList:t.playList,playFunc:t.getSongInfo},scopedSlots:t._u([{key:"opts",fn:function(){return[s("i",{staticClass:"iconfont icon-list_clean_n"})]},proxy:!0}])})],1)]),t._v(" "),s("audio",{ref:"audio",attrs:{src:t.songUrl},on:{timeupdate:t.timeUpdate,ended:t.audioEnd}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex_c"},[e("i",{staticClass:"iconfont icon-list_clean_n"}),this._v(" "),e("span",[this._v("清空列表")])])}]};var d=s("VU/8")(c,u,!1,function(t){s("fRlY"),s("KdGk")},"data-v-3c0e3d8b",null);e.a=d.exports},nt5x:function(t,e){}});
//# sourceMappingURL=2.b2a14370af5caa5e89b0.js.map